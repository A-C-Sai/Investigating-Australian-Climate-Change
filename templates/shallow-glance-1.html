<!-- Use to Experiment with Layouts in isolated file; to be used with playground.css-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- GOOGLE FONTS -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
            rel="stylesheet"
            />
        <!-- Stylesheets -->
        <!-- <link rel="stylesheet" href="../static/css/playground.css" /> -->
        <link
            rel="stylesheet"
            href="{{ url_for('static', filename='css/styles-shallow-glance-1.css') }}"
            />
        
        <!-- NEW FAVICON -->
    <link rel="icon" type="image/png" href="../static/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="../static/favicon/favicon.svg" />
    <link rel="shortcut icon" href="../static/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="../static/favicon/apple-touch-icon.png" />
    <link rel="manifest" href="../static/favicon/site.webmanifest" />
        <title>Task 2A &mdash; Programming Studio</title>
    </head>
    <body class="custom-layout">
        <!-- NAVIGATION -->
    <header class="header">
      <a class="logo-link" href="{{ url_for('home') }}">
        <!-- <svg class="logo" xmlns="http://www.w3.org/2000/svg" width="2500" height="2500" viewBox="0 0 192.756 192.756">
          <g fill-rule="evenodd" clip-rule="evenodd"> -->
        <!-- <path d="M0 0h192.756v192.756H0V0z" />. -->
        <!-- <path
              d="M167.59 82.143s-1.301 2.343-4.119 3.095l-6.609-1.549-3.363-.884c-1.777.221-14.309 4.973-14.309 7.737 0 1.107 4.336 3.141 4.336 4.864 0 1.878-3.645 5.503-4.771 7.737-2.381-.391-2.816-2.012-2.816-3.758 0-2.521 1.082-2.564 1.082-3.315 0-.641-1.838-1.274-2.76-1.495 0 0-4.24 1.005-5.693 1.382-.455-.994-1.301-3.262-1.949-4.367l-2.277-.11c3.771 6.434 3.422 15.156 11.164 26.033 8.779 12.312 22.332 6.295 24.176 14.143l-19.43-.734c-3.375-2.063-12.291-10.758-14.068-10.758H109.27s-.43-.002-.43-.444c0-.414.43-.438.43-.438l21.086-.002c.064 0 .707-.058.707-.831 0-.608-.76-.719-.76-.719l-6.725.005s-11.771-6.189-14.742-6.189l-24.496-.003c-.606 0-1.57 0-1.57-.994 0-1.161.851-1.215 1.564-1.215l33.447.054c.717 0 1.613-.167 1.678-1.6.057-1.274-1.234-1.331-1.84-1.328l-17.455.003c-1.215.396-5.962-2.5-7.589-4.424h17.128s.869-.003.869-.719c0-.831-.869-.828-.869-.828H30.569s-.59.02-.59-.665c0-.609.491-.553.491-.553l58.496-.016s-4.219-4.714-5.062-4.736c-6.287-.221-4.835-.051-7.909-.333-4.482-.41-11.387-1.875-11.387-1.875l-25.522-.004c-.547 0-1.301-.11-1.301-1.078 0-.929.694-1.131 1.236-1.131l69.06-.029s1.191-.028 1.191-1.299c0-1.325-1.107-1.325-1.191-1.325H52.033l-8.022-3.979H13.439c-.282 0-1.051-.168-1.075-.998-.024-.967.84-.992 1.075-.992l26.865-.002c-.044-.064-8.523-7.491-17.976-7.955-3.316-.156-4.219.359-6.069 0-1.064-.207-1.722-.751-1.734-2.211-.02-1.853 2.855-2.322 6.069-2.432 5.762-.197 7.381-.416 14.67 1.85 8.599 2.673 19.63 12.96 29.778 12.96h1.95c2.538 0 10.428-2.034 11.707-4.2h-9.323s-.481-.027-.481-.553.481-.551.481-.551l56.347-.003c.162 0 .787.029.787-.885 0-.855-.764-.883-.764-.883H82.603l7.688-5.808H53.867s-.636-.051-.636-.713c0-.606.536-.553.536-.553h58.971c.064 0 .979-.026 1.082-.883-.023-.914-.967-.884-1.082-.884H95.177c1.538-.22 6.635-2.874 11.489-3.094 1.822-.068 1.996 0 3.037 0 11.861 0 23.09 9.285 29.051 9.285h3.688c.434 0 7.154-1.924 7.154-3.316 0-.798-1.68-1.118-1.68-5.141 0-.721.248-2.367.488-3.261.162-.606-.111-2.209-.111-2.209.371.148.707.275 1.305.496 2.818 2.432 8.508 7.848 11.977 13.76.383.652-.215.111.381 1.659.587 1.53 5.634 4.599 5.634 6.191zM166.012 127.272c0-2.591 1.959-4.529 4.459-4.529 2.469 0 4.41 1.938 4.41 4.529 0 2.617-1.941 4.545-4.41 4.545-2.5 0-4.459-1.927-4.459-4.545zm4.459 5.447c2.971 0 5.5-2.297 5.5-5.446 0-3.139-2.529-5.43-5.5-5.43-3.006 0-5.547 2.291-5.547 5.43 0 3.149 2.541 5.446 5.547 5.446zm-1.155-5.015h1.098l1.66 2.718h1.068l-1.791-2.762c.924-.115 1.631-.606 1.631-1.733 0-1.245-.736-1.793-2.223-1.793h-2.396v6.288h.953v-2.718zm0-.808v-1.954h1.299c.664 0 1.373.144 1.373.926 0 .968-.723 1.028-1.531 1.028h-1.141z"
            />
          </g>
        </svg> -->
        <svg
          class="logo"
          fill="#D9660E"
          version="1.1"
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          width="72px"
          height="72px"
          viewBox="-26 -26 312.00 312.00"
          enable-background="new 0 0 260 240"
          xml:space="preserve"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0">
            <path
              transform="translate(-26, -26), scale(9.75)"
              d="M16,27.082749149296433C18.346672173614337,28.127274926911838,20.338243862093652,30.593218488910676,22.891187365054062,30.3096980113237C25.243533173031786,30.048455172947456,26.981270664376005,27.75780061566152,28.198554652335286,25.728022718065038C29.373993409321773,23.768020259715716,29.132244994015956,21.34134635098895,29.609959084335784,19.106384347716585C30.081347596886356,16.90101625061008,31.958022186948256,14.620347713740966,31.01016802289878,12.574027099273655C29.99803339661067,10.388931512900912,26.913685147200532,10.214205806358406,24.887966502640307,8.912083232866149C23.467230896143427,7.998840957512841,22.012587673334156,7.199935811505745,20.807986921201636,6.016112283684853C18.986975707322564,4.226510280199996,18.49651355647879,0.7123737298602018,16.000000000000004,0.1774183725938201C13.724653316813972,-0.31014513157776424,12.05654691390832,2.4815440235324817,10.085539274834787,3.718495755007691C8.307579622333993,4.8342957281055465,5.6886178388007504,5.201482594838333,4.896797586539805,7.145491543890607C4.047637982910151,9.230275134504947,6.1087764475769255,11.471242394270401,6.011699885739736,13.720235678669704C5.936233468072654,15.468582172600836,4.733732832693883,16.92963309410227,4.4003174610661056,18.647551844509024C3.9351935261472284,21.044097406158045,1.8676503553483936,24.18311103843217,3.6592008860395975,25.841458890926965C5.617227878243769,27.653905596739868,8.886910100359533,24.990880194324824,11.541628825906226,25.257903136867043C13.159643251591449,25.4206499351868,14.514345967797153,26.421470615932286,16,27.082749149296433"
              fill="#160a01"
              strokewidth="0"
            ></path>
          </g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke="#CCCCCC"
            stroke-width="1.04"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <path
              d="M257.229,117.41l-4.888-11.82L239.54,90.716l-5.631-17.505l-13.546-8.606l-5.605-31.236l-8.844-3.081l-7.49-28.262 l-8.234,12.616l-7.437,35.434l-5.844,1.567l-31.05-20.904l3.107-11.794l7.65-7.012L134.037,7.02l-22.949,5.631l-10.97,18.141 l-16.362-7.039L66.6,33.976l-1.263,10.743l-9.338,2.914l-9.084,21.462L2.663,91.034L2,110.478l6.959,9.376l-3.533,5.525 l16.379,33.043l-1.195,19.124l12.36,4.223l18.859-10.518l21.01-1.966l3.054-6.135l12.06-7.224l30.227-6.694l16.229,5.313 l8.181,11.846l19.31,6.136l6.853,18.3l21.063,13.494l8.818-6.269l10.305,6.428l18.621-6.162l15.405-31.714l4.675-2.365L258,139.987 L257.229,117.41z M199.777,237.973l11.98-1.939l3.48-13.52l-18.912-3.931L199.777,237.973z"
            ></path>
          </g>
        </svg>
        <!-- NEW -->
        <div style="text-align: center;" class="company-name-box">
          <p class="gov-name">RMIT</p>
          <p class="company-name">Programming Studio</p>
        </div>
      </a>
      <nav class="main-nav">
        <ul class="main-nav-list">
          <li style="position: relative">
            <a class="main-nav-link" href="{{ url_for('home') }}">Task 1A</a>
            <!-- <span class="active-page"></span> -->
          </li>
          <!-- <li class="main-nav-dropdown">
            <button class="btn--nav">
              Explore Data
              <ion-icon class="open-dropdown" name="chevron-down-outline"></ion-icon>
              <ion-icon class="close-dropdown hidden" name="chevron-up-outline"></ion-icon>
            </button> -->

          <!-- Dropdown menu -->
          <!-- <ul class="dropdown dropdown--close">
              <li class="dropdown-option">
                <button class="dropdown-btn">
                  Shallow glance
                  <ion-icon class="right-arrow" name="chevron-forward-outline"></ion-icon>
                  <ion-icon class="left-arrow hidden" name="chevron-back-outline"></ion-icon>
                </button> -->

          <!-- Shallow glance dropdown -->
          <!-- <ul class="shallow-glance-dropdown layer-2-dropdown layer-2-dropdown--close">
                  <li>
                    <a class="layer-2-nav-link" href="{{ url_for('task_2A') }}">By Location</a>
                  </li>
                  <li>
                    <a class="layer-2-nav-link" href="{{ url_for('in_production') }}">By Metric</a>
                  </li>
                </ul>
              </li>
              <li class="dropdown-option">
                <button class="dropdown-btn">
                  Deep dive
                  <ion-icon class="right-arrow" name="chevron-forward-outline"></ion-icon>
                  <ion-icon class="left-arrow hidden" name="chevron-back-outline"></ion-icon>
                </button> -->

          <!-- deep dive dropdown -->
          <!-- <ul class="deep-dive-dropdown layer-2-dropdown layer-2-dropdown--close">
                  <li>
                    <a class="layer-2-nav-link" href="{{ url_for('in_production') }}">Station Clusters</a>
                  </li>
                  <li>
                    <a class="layer-2-nav-link" href="{{ url_for('in_production') }}">Metric Patterns</a>
                  </li>
                </ul>
              </li>
            </ul>
          </li> -->
          <!-- NEW 2 LINKS -->
          <li style="position: relative">
            <a class="main-nav-link" href="{{ url_for('in_production') }}">Task 1B</a>
            <!-- <span class="active-page"></span> -->
          </li>
          <li style="position: relative">
            <a class="main-nav-link" href="{{ url_for('task_2A') }}">Task 2A</a>
            <span class="active-page"></span>
          </li>
          <li style="position: relative">
            <a class="main-nav-link" href="{{ url_for('in_production') }}">Task 2B</a>
            <!-- <span class="active-page"></span> -->
          </li>
          <li style="position: relative">
            <a class="main-nav-link" href="{{ url_for('task_3A') }}">Task 3A</a>
            <!-- <span class="active-page"></span> -->
          </li>
          <li style="position: relative">
            <a class="main-nav-link" href="{{ url_for('in_production') }}">Task 3B</a>
            <!-- <span class="active-page"></span> -->
          </li>
        </ul>
      </nav>
    </header>
        <!-- USER INPUT -->
        <div class="sidebar">
          <!-- NEW -->
            <button class="toggle-sidebar">
                <ion-icon class="show-sidebar hidden" name="menu"></ion-icon>
                <ion-icon class="hide-sidebar" name="close"></ion-icon>
            </button>
          <!-- END NEW -->
            <form name="sidebar-form" class="sidebar-form" action="{{ url_for('task_2A') }}" method="POST">
                <div class="input">
                    <label for="state-sidebar">State</label>
                    <select name="state-sidebar" id="state-sidebar" required>
                        <option value="">--</option>
                        {% for state_name in state_names %}
                        <option value="{{ state_name }}">{{ state_name.replace('.','') }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="input-box">
                    <div class="input">
                        <label for="start-latitude-sidebar">START LAT<br><span class="min-lat"></span></label>
                        <input
                            name="start-latitude-sidebar"
                            id="start-latitude-sidebar"
                            type="number"
                            required
                            disabled
                            />
                    </div>
                    <span style="font-weight: 800;">&mdash;</span>
                    <div class="input">
                        <label for="end-latitude-sidebar">END LAT<br><span class="max-lat"></span></label>
                        <input
                            name="end-latitude-sidebar"
                            id="end-latitude-sidebar"
                            type="number"
                            required
                            disabled
                            />
                    </div>
                </div>
                <div class="input">
                    <label for="climate-metric-sidebar">Climate Metric</label>
                    <select name="climate-metric-sidebar" id="climate-metric-sidebar" required disabled>
                        <option value="">--</option>
                        {% for name, alias in climate_metrics.items() %}
                        <option value="{{ name }}">{{ alias }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="input">
                    <label for="period-sidebar">Period</label>
                    <select name="period-sidebar" id="period-sidebar" required disabled>
                        <option value="">--</option>
                        <option value="Annual">Annual</option>
                        <option value="January">January</option>
                        <option value="February">February</option>
                        <option value="March">March</option>
                        <option value="April">April</option>
                        <option value="May">May</option>
                        <option value="June">June</option>
                        <option value="July">July</option>
                        <option value="August">August</option>
                        <option value="September">September</option>
                        <option value="October">October</option>
                        <option value="November">November</option>
                        <option value="December">December</option>
                    </select>
                </div>
                <div class="submit">
                    <button type="submit" disabled>
                        <ion-icon name="search"></ion-icon>
                        <span>FETCH RESULTS</span>
                    </button>
                </div>
            </form>
        </div>
        <!-- MAIN -->
        <div class="main">
            {% if data_subtitle %}
            <span class="results-subtitle">{{ data_subtitle | safe }}</span>
            {% endif %}
            <h2 class="results-title">{{ data_title }}</h2>
            <!-- <button class="toggle-sidebar">
                <ion-icon class="show-sidebar hidden" name="menu"></ion-icon>
                <ion-icon class="hide-sidebar" name="close"></ion-icon>
            </button> -->
            <!-- NEW FORM -->
            <form name="form-which-table" style="display: flex; gap: 1.6rem;" action="">
              <div style="display: flex;flex-direction: column;gap: 0.8rem;">
                <label for="which-table">Choose a Table to Display:</label>
                <select name="which-table" id="which-table">
                  <option value="">--</option>
                  {% for (table_name, _) in tables %}
                  <option value="{{ table_name }}">{{ table_name }}</option>
                  {% endfor %}
                </select>
              </div>
              <button style="align-self: flex-end;" class="display-table-btn" type="button" disabled>Show Table</button>
            </form>
            <!-- END NEW FORM -->
            <div class="content">
                {% if request_method == 'GET' %} 
                  {% for (table_name, (table, table_columns,query)) in tables %}
                  <div class="data-div {{ table_name.replace(' ', '-') }} hidden">
                      <div class="title-box">
                          <h3 class="data-title">{{ table_name }}</h3> <!--FIXME: TABLE LAYOUT CHANGED SO REFRACTOR DOWNLOAD FUNCTIONALITY-->
                          <a href="{{ url_for('download_data_v2', query=query, title = table_name) }}" class="download-btn">
                              <ion-icon
                                  class="download-outline"
                                  name="download-outline"
                                  ></ion-icon>
                          </a>
                      </div>
                      <div class="table-box-wrapper">
                        <div class="table-box">
                            <!-- <form name="sort-form" class="sort-dropdown hide-sort-dropdown">
                              <div class="sort-dropdown-section">
                                <p class="cloumns-list-title">Sort by</p>
                                <div class="cloumns-list">
                                  {% for column in table_columns %}
                                  <div class="sort-dropdown-input">
                                    <input type="radio" id="{{ column }}" name="column" value="{{ column }}" />
                                    <label for="{{ column }}">{{ column }}</label><br />
                                  </div>
                                  {% endfor %}
                                </div>
                              </div>

                              <div class="sort-dropdown-section">
                                <p class="sort-order-title">Sort order</p>
                                <div class="sort-order-list">
                                  <div class="sort-dropdown-input">
                                    <input type="radio" id="Ascending" name="sort-order" value="Ascending"  />
                                    <label for="Ascending">ascending</label><br />
                                  </div>
                                  <div class="sort-dropdown-input">
                                    <input type="radio" id="Descending" name="sort-order" value="Descending"  />
                                    <label for="Descending">descending</label><br />
                                  </div>
                                  <button class="sort-table">Sort</button>
                                </div>
                              </div>
                            </form>
                            <button class="sort-table-dropdown"><ion-icon name="swap-vertical-outline" role="img" class="md hydrated"></ion-icon></button> -->
                            <div style="height: 20px;background-color: #fff; display: flex; align-items: center;justify-content: center;" class="sort-description">
                              <p style="text-align: center;">Sorted by: <span style="font-weight: 600;" class="sorted-by">N/A</span>, Order: <span style="font-weight: 600;" class="order">N/A</span></p>
                            </div> <!--TODO: Add a dropdown box with the available table options, let user choose a table and display it to the screen-->
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <td style="text-align: center;">Row</td>
                                        {% for column in table_columns %}
                                        <th style="text-align: left;";>
                                          <div class="sort-col-btn" style="display: flex; align-items: center; gap: 0.4rem; cursor: pointer;">
                                              <p>{{ column }}</p>
                                              <ion-icon name="arrow-up-outline"></ion-icon>
                                          </div>
                                        </th>
                                        {% endfor %}
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for row in table %}
                                    {% set row_id = row[0] %}
                                    {% set values = row[1:] %}
                                    <tr>
                                        <th>{{ row_id }}</th>
                                        {% for val in values %}
                                        <td>{{ val }}</td>
                                        {% endfor %}
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                      </div>
                      <!-- ADD HERE IF NECESSARY -->
                  </div>
                  {% endfor %} 
                {% else %}
                  {% for (table_name, (table, table_columns,query)) in tables %}
                  <div class="data-div {{ table_name.replace(' ', '-') }} hidden">
                      <div class="title-box">
                          <h3 class="data-title">{{ table_name }}</h3> <!--FIXME: TABLE LAYOUT CHANGED SO REFRACTOR DOWNLOAD FUNCTIONALITY-->
                          <a href="{{ url_for('download_data_v2', query=query, title = table_name) }}" class="download-btn">
                              <ion-icon
                                  class="download-outline"
                                  name="download-outline"
                                  ></ion-icon>
                          </a>
                      </div>
                      <div class="table-box-wrapper">
                        <div class="table-box">
                          <div style="height: 20px;background-color: #fff; display: flex; align-items: center;justify-content: center;" class="sort-description">
                              <p style="text-align: center;">Sorted by: <span style="font-weight: 600;" class="sorted-by">N/A</span>, Order: <span style="font-weight: 600;" class="order">N/A</span></p>
                            </div> <!--TODO: Add a dropdown box with the available table options, let user choose a table and display it to the screen-->
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <td style="text-align: center;">Row</td>
                                        {% for column in table_columns %}
                                        <th style="text-align: left;";>
                                          <div class="sort-col-btn" style="display: flex; align-items: center; gap: 0.4rem; cursor: pointer;">
                                              <p>{{ column }}</p>
                                              <ion-icon name="arrow-up-outline"></ion-icon>
                                          </div>
                                        </th>
                                        {% endfor %}
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for row in table %}
                                    {% set row_id = row[0] %}
                                    {% set values = row[1:] %}
                                    <tr>
                                        <th>{{ row_id }}</th>
                                        {% for val in values %}
                                        <td>{{ val }}</td>
                                        {% endfor %}
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                      </div>
                      <!-- ADD HERE IF NECESSARY -->
                  </div>
                  {% endfor %}
                {% endif %}
            </div>
        </div>
        </div>
        <!-- FOOTER -->
        <footer class="footer">
            <div class="section-footer">
                <p class="copyright">
                    Copyright&reg; <span class="copyright-year"></span> Sai Akella. All rights
                    reserved.
                </p>
            </div>
        </footer>
        <!-- ION ICONS SETUP -->
        <script
            type="module"
            src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
            ></script>
        <script
            nomodule
            src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
            ></script>
        <!-- PAGE FUNCTIONALITY -->
        <!-- <script src="../static/js/navigation.js"></script> -->
        <script src="../static/js/sidebar.js"></script>
        <script src="../static/js/form-1.js"></script>
        <!-- <script src="../static/js/download-data.js"></script> -->
        <!-- <script src="../static/js/sorting.js"></script> -->
        <script src="../static/js/sorting-improved.js"></script>
        <script src="../static/js/display-table.js"></script>
        <script>
            // Make sure year is updated automatically
            let currentYear = new Date().getFullYear();
            const copyrightYear = document.querySelector(".copyright-year");
            copyrightYear.textContent = currentYear;
        </script>
    </body>
</html>
